<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <link rel="stylesheet" href="output.css">
    <style>
        /*         
        .cal {
            display: grid;
            grid-rows
        } */
        .operator {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgb(192, 192, 192);
            cursor: pointer;
            /* opacity: 0.5; */
            /* width: 3rem;
            height: 1rem; */
        }
        
        .operator:hover, .operator1:hover{
            background-color: rgb(158, 157, 157);
        }

        .operator1 {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: gray;
            cursor: pointer;

            /* width: 3rem;
            height: 1rem; */
        }

        .operator p {
            color: black;
            font-size: medium;
        }

        .operator2:hover {
            --tw-bg-opacity: 2;
    background-color: rgb(194, 124, 124);
        }

        .operator3:hover {
            background-color: rgb(105, 189, 136)
        }
    </style>
</head>

<body class="h-[100vh] flex justify-center items-center bg-[wheat]">
    <!-- <button id="myButton">Click Me</button> -->

    <div class="w-80 h-96 bg-black cal grid grid-rows-[1fr_3fr]">
        <div class=" bg-slate-900 flex items-center justify-end" id="result_con">
            <p id="result" class="text-white text-5xl pr-2" value="0">0</p>
        </div>
        <div class=" bg-white grid-cols-4 grid grid-flow-row gap-4 p-3">
            <div class="operator1 operator9" id="plus" vlaue="+">
                <p>+</p>
            </div>
            <div class="operator1 operator9" id="minus">
                <p>-</p>
            </div>
            <div class="operator1  operator9" id="multiply">
                <p>x</p>
            </div>
            <div class="operator1  operator9" id="divide">
                <p>รท</p>
            </div>
            <div class="operator  operator9" id="seven">
                <p>7</p>
            </div>
            <div class="operator  operator9" id="eight">
                <p>8</p>
            </div>
            <div class="operator  operator9" id="nine" value="9">
                <p>9</p>
            </div>
            <div class="operator3  operator9  cursor-pointer grid-rows-subgrid row-span-4 flex items-center justify-center bg-green-400"
                id="equal" value="=">
                <p>=</p>
            </div>
            <div class="operator  operator9" id="four">
                <p>4</p>
            </div>
            <div class="operator  operator9" id="five">
                <p>5</p>
            </div>
            <div class="operator  operator9" id="six">
                <p>6</p>
            </div>
            <div class="operator  operator9" id="one">
                <p>1</p>
            </div>
            <div class="operator  operator9" id="two">
                <p>2</p>
            </div>
            <div class="operator  operator9" id="three">
                <p>3</p>
            </div>
            <div class="operator  operator9" id="dot">
                <p>.</p>
            </div>
            <div class="operator  operator9" id="zero">
                <p>0</p>
            </div>
            <div class="operator2 operator9 cursor-pointer bg-red-400 flex items-center justify-center" id="C">
                <p>C</p>
            </div>

        </div>
    </div>
    <script src="App.js"></script>
    <script>
        let result = document.getElementById('result');
        let plus = document.getElementById('plus');
        let minus = document.getElementById('minus');
        let multiply = document.getElementById('multiply');
        let divide = document.getElementById('divide');
        let equal = document.getElementById('equal');
        let clear = document.getElementById('C');
        let one = document.getElementById('one');
        let two = document.getElementById('two');
        let three = document.getElementById('three');
        let four = document.getElementById('four');
        let five = document.getElementById('five');
        let six = document.getElementById('six');
        let seven = document.getElementById('seven');
        let eight = document.getElementById('eight');
        let nine = document.getElementById('nine');
        let dot = document.getElementById('dot');
        let zero = document.getElementById('zero');
        let opt = ['+', '-', '*', '/'];

// Selecting the button element
// const button = document.getElementById('myButton');

// Function to move the button down


// Adding event listener for mouse down
// button.addEventListener('mousedown', moveButtonDown);

// // Adding event listener for mouse up
// button.addEventListener('mouseup', moveButtonUp);

// // Adding event listener for mouse leave (in case the user moves the cursor away while holding the mouse down)
// button.addEventListener('mouseleave', moveButtonUp);


        let button = document.querySelectorAll('.operator9');
        button.forEach(element => {function moveButtonDown() {
    element.style.transform = 'translateY(2px)';
}

// Function to move the button back up
function moveButtonUp() {
    element.style.transform = 'translateY(0)';
}
            element.addEventListener('mousedown', moveButtonDown);

// Adding event listener for mouse up
element.addEventListener('mouseup', moveButtonUp);

// Adding event listener for mouse leave (in case the user moves the cursor away while holding the mouse down)
element.addEventListener('mouseleave', moveButtonUp);
        })


        plus.addEventListener('click', function () {
let arr = result.value.split('');
                if (arr[arr.length - 1] === '-' || arr[arr.length - 1] === '/' || arr[arr.length - 1] === '*' || arr[arr.length - 1] === '+') {


                    arr[arr.length - 1] = '+';
                    result.value = arr.join('');
                    result.textContent = eval(result.value);
                    result.value = result.textContent + '+';
                }
            // If result.value contains a plus sign, evaluate the expression and update result.textContent
            if (result.value.includes('+') || result.value.includes('-') || result.value.includes('*') || result.value.includes('/')) {
                result.textContent = eval(result.value);
                result.value = result.textContent + '+';
                


            } else {
                result.value += '+';
            }
        });

        divide.addEventListener('click', function () {
let arr4 = result.value.split('');
                if (arr4[arr4.length - 1] === '-' || arr4[arr4.length - 1] === '+' || arr4[arr4.length - 1] === '*') {


                    arr4[arr4.length - 1] = '/';
                    result.value = arr4.join('');
                    result.textContent = eval(result.value);
                    result.value = result.textContent + '/';
                }
            // If result.value contains a plus sign, evaluate the expression and update result.textContent
            if (result.value.includes('/') || result.value.includes('-') || result.value.includes('+') || result.value.includes('*')) {
                result.textContent = eval(result.value);
                result.value = result.textContent + '/';
                


            } else {
                result.value += '/';
            }
        });

        minus.addEventListener('click', function () {
let arr1 = result.value.split('');
                if (arr1[arr1.length - 1] === '+' || arr1[arr1.length -1] === "*" || result.value.includes('/')) {
                    arr1[arr1.length - 1] = '-';
                    result.value = arr1.join('');
                    result.textContent = eval(result.value);
                    result.value = result.textContent + '-';
                }
            // If result.value contains a plus sign, evaluate the expression and update result.textContent
            if (result.value.includes('-') || result.value.includes('+') || result.value.includes('*') || result.value.includes('/')) {
                result.textContent = eval(result.value);
                result.value = result.textContent + '-';




            } else {
                result.value += '-';
                
            }
        });

        multiply.addEventListener('click', function () {
let arr2 = result.value.split('');
                if (arr2[arr2.length - 1] === '+' || arr2[arr2.length -1] === '-' || arr2[arr2.length -1] === '/') {
                    arr2[arr2.length - 1] = '*';
                    result.value = arr2.join('');
                    result.textContent = eval(result.value);
                    result.value = result.textContent + '*';
                }
            // If result.value contains a plus sign, evaluate the expression and update result.textContent
            if (result.value.includes('-') || result.value.includes('+') || result.value.includes('*') || result.value.includes('/')) {
                result.textContent = eval(result.value);
                result.value = result.textContent + '*';

            } else {
                result.value += '*';
                
            }
        });

        nine.addEventListener('click', function () {
            if (result.textContent === '0') {
                result.textContent = '9';
                result.value = '9';
            }
            else {

                if (result.value[result.value.length - 1] === "+" || result.value[result.value.length - 1] === "-" || result.value[result.value.length - 1] === "*" || result.value[result.value.length - 1] === "/") {
                    result.textContent = '9',
                        result.value += '9';
                } else {
                    result.value += '9',
                        result.textContent += "9";
                }
            }


        }
        )

        one.addEventListener('click', function () {
            if (result.textContent === '0') {
                result.textContent = '1';
                result.value = '1';
            }
            else {
                if (result.value[result.value.length - 1] === "+" || result.value[result.value.length - 1] === "-" || result.value[result.value.length - 1] === "*" ||result.value[result.value.length - 1] === "/") {
                    result.textContent = '1';
                    result.value += '1';
                }
                else {
                    result.value += '1';
                    result.textContent += "1";
                }
            }
        })

        clear.addEventListener('click', function(){
            result.textContent = '0';
            result.value = '0';
        })

        equal.addEventListener('click', function () {
            result.textContent = eval(result.value);
            result.value = result.textContent
        })

        two.addEventListener('click', function () {
            if (result.textContent === '0') {
                result.textContent = '2';
                result.value = '2';
            }
            else {
                if (result.value[result.value.length - 1] === "+" || result.value[result.value.length - 1] === "-" || result.value[result.value.length - 1] === "*" || result.value[result.value.length - 1] === "/") {
                    result.textContent = '2';
                    result.value += '2';
                }
                else {
                    result.value += '2';
                    result.textContent += "2";
                }
            }
        })

        dot.addEventListener('click', function () {
            if (result.textContent === '0') {
                result.textContent += '.';
                result.value += '.';
            }
            else if(result.textContent.includes('.')){
result.textContent += '';
            }
            else {
                if (result.value[result.value.length - 1] === "+" || result.value[result.value.length - 1] === "-" || result.value[result.value.length - 1] === "*" || result.value[result.value.length - 1] === "/") {
                    result.textContent = '.';
                    result.value += '.';
                }
                else {
                    result.value += '.';
                    result.textContent += ".";
                }
            }
        })

        zero.addEventListener('click', function () {
            if (result.textContent === '0') {
                result.textContent = '0';
                result.value = '0';
            }
            else {
                if (result.value[result.value.length - 1] === "+" || result.value[result.value.length - 1] === "-" || result.value[result.value.length - 1] === "*" || result.value[result.value.length - 1] === "/") {
                    result.textContent = '0';
                    result.value += '0';
                }
                else {
                    result.value += '0';
                    result.textContent += "0";
                }
            }
        })

        five.addEventListener('click', function () {
            if (result.textContent === '0') {
                result.textContent = '5';
                result.value = '5';
            }
            else {
                if (result.value[result.value.length - 1] === "+" || result.value[result.value.length - 1] === "-" || result.value[result.value.length - 1] === "*" || result.value[result.value.length - 1] === "/") {
                    result.textContent = '5';
                    result.value += '5';
                }
                else {
                    result.value += '5';
                    result.textContent += "5";
                }
            }
        })

        six.addEventListener('click', function () {
            if (result.textContent === '0') {
                result.textContent = '6';
                result.value = '6';
            }
            else {
                if (result.value[result.value.length - 1] === "+" || result.value[result.value.length - 1] === "-" || result.value[result.value.length - 1] === "*" || result.value[result.value.length - 1] === "/") {
                    result.textContent = '6';
                    result.value += '6';
                }
                else {
                    result.value += '6';
                    result.textContent += "6";
                }
            }
        })

        seven.addEventListener('click', function () {
            if (result.textContent === '0') {
                result.textContent = '7';
                result.value = '7';
            }
            else {
                if (result.value[result.value.length - 1] === "+" || result.value[result.value.length - 1] === "-" || result.value[result.value.length - 1] === "*" || result.value[result.value.length - 1] === "/") {
                    result.textContent = '7';
                    result.value += '7';
                }
                else {
                    result.value += '7';
                    result.textContent += "7";
                }
            }
        })

        eight.addEventListener('click', function () {
            if (result.textContent === '0') {
                result.textContent = '8';
                result.value = '8';
            }
            else {
                if (result.value[result.value.length - 1] === "+" || result.value[result.value.length - 1] === "-" || result.value[result.value.length - 1] === "*" || result.value[result.value.length - 1] === "/") {
                    result.textContent = '8';
                    result.value += '8';
                }
                else {
                    result.value += '8';
                    result.textContent += "8";
                }
            }
        })

        four.addEventListener('click', function () {
            if (result.textContent === '0') {
                result.textContent = '4';
                result.value = '4';
            }
            else {
                if (result.value[result.value.length - 1] === "+" || result.value[result.value.length - 1] === "-" || result.value[result.value.length - 1] === "*" || result.value[result.value.length - 1] === "/") {
                    result.textContent = '4';
                    result.value += '4';
                }
                else {
                    result.value += '4';
                    result.textContent += "4";
                }
            }
        })

        three.addEventListener('click', function () {
            if (result.textContent === '0') {
                result.textContent = '3';
                result.value = '3';
            }
            else {
                if (result.value[result.value.length - 1] === "+" || result.value[result.value.length - 1] === "-" || result.value[result.value.length - 1] === "*" || result.value[result.value.length - 1] === "/") {
                    result.textContent = '3';
                    result.value += '3';
                }
                else {
                    result.value += '3';
                    result.textContent += "3";
                }
            }
        })
    </script>
</body>


</html>